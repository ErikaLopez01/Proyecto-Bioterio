{% extends "insumos/base.html" %}
{% block content %}
<h3>Cambiar mi contraseña</h3>

<form method="post" class="card card-body mt-3" novalidate>
  {% csrf_token %}

  <div class="mb-3">
    <label class="form-label">Contraseña actual</label>
    {{ form.old_password }}
    {% if form.old_password.errors %}
      <div class="text-danger small">{{ form.old_password.errors.0 }}</div>
    {% endif %}
  </div>

  <div class="mb-3">
    <label class="form-label">Nueva contraseña</label>
    {{ form.new_password1 }}
    {% if form.new_password1.help_text %}
      <div class="form-text">{{ form.new_password1.help_text|safe }}</div>
    {% endif %}
    {% if form.new_password1.errors %}
      <div class="text-danger small">{{ form.new_password1.errors.0 }}</div>
    {% endif %}
  </div>

  <div class="mb-3">
    <label class="form-label">Confirmar nueva contraseña</label>
    {{ form.new_password2 }}
    {% if form.new_password2.errors %}
      <div class="text-danger small">{{ form.new_password2.errors.0 }}</div>
    {% endif %}
  </div>

  {% if form.non_field_errors %}
    <div class="alert alert-danger">
      {{ form.non_field_errors }}
    </div>
  {% endif %}

  <div class="d-flex gap-2">
    <button class="btn btn-primary">Cambiar contraseña</button>
    <a href="{% url 'usuarios:perfil' %}" class="btn btn-secondary">Cancelar</a>
  </div>
</form>
{% endblock %}
